//apply(plugin = "com.android.application")
//apply(plugin = "ly.img.android.sdk")
//apply(plugin = "com.google.devtools.ksp")
//
//// plugins {
////     // id("com.android.application")
////     // id("ly.img.android.sdk").version("10.9.0")
////     // Add KSP-Plugin, the correct version depends on your Kotlin version.
////     // Can be found here: https://github.com/google/ksp/releases
////     // id("com.google.devtools.ksp").version("1.9.0-1.0.11")
//// }
//
//// IMGLY.configure {
////     skipPluginCheck = true
////     finalModule = true
////
////     pesdk {
////         enabled(true)
////         licensePath(null)
////     }
////
////     modules {
////         include("ui:core")
////         include("ui:text")
////         include("ui:focus")
////         include("ui:frame")
////         include("ui:brush")
////         include("ui:filter")
////         include("ui:sticker")
////         include("ui:overlay")
////         include("ui:transform")
////         include("ui:adjustment")
////         include("ui:text-design")
////
////         include("backend:serializer")
////         include("backend:headless")
////         include("backend:background-removal")
////         include("backend:sticker-smart")
////
////         include("assets:font-basic")
////         include("assets:frame-basic")
////         include("assets:filter-basic")
////         include("assets:overlay-basic")
////         include("assets:sticker-shapes")
////         include("assets:sticker-emoticons")
////     }
//// }
//
//android {
//    namespace = "vn.edu.hcmus.stargallery"
//    compileSdk = 34
//
//    defaultConfig {
//        applicationId = "vn.edu.hcmus.stargallery"
//        minSdk = 29
//        targetSdk = 34
//        versionCode = 1
//        versionName = "1.0"
//
//        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
//    }
//
//    buildTypes {
//        release {
//            isMinifyEnabled = false
//            proguardFiles(
//                getDefaultProguardFile("proguard-android-optimize.txt"),
//                "proguard-rules.pro"
//            )
//        }
//    }
//    compileOptions {
//        sourceCompatibility = JavaVersion.VERSION_1_8
//        targetCompatibility = JavaVersion.VERSION_1_8
//    }
//}
//
//dependencies {
//    implementation ("com.google.android.material:material:1.11.0")
//    implementation("androidx.appcompat:appcompat:1.6.1")
//    implementation("com.google.android.material:material:1.11.0")
//    implementation("androidx.constraintlayout:constraintlayout:2.1.4")
//    testImplementation("junit:junit:4.13.2")
//    androidTestImplementation("androidx.test.ext:junit:1.1.5")
//    androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")
//    implementation("com.github.bumptech.glide:glide:4.14.2")
//    implementation("androidx.exifinterface:exifinterface:1.3.2")
//}

apply plugin: 'com.android.application'

apply plugin: 'ly.img.android.sdk'
apply plugin: 'kotlin-android'
apply plugin: 'com.google.devtools.ksp'

IMGLY.configure {

    pesdk {
        enabled true
        licencePath null // Name of the Licence file in the asset folder
    }

    // Define the modules you are need
    modules {
        // Add all the UI modules you are need
        include 'ui:core'
        include 'ui:text'
        include 'ui:focus'
        include 'ui:frame'
        include 'ui:brush'
        include 'ui:filter'
        include 'ui:sticker'
        include 'ui:overlay'
        include 'ui:transform'
        include 'ui:adjustment'
        include 'ui:text-design'

        // Add the serializer if you need
        include 'backend:serializer'

        // Allow Background Encoding [Optional]
        include 'backend:headless'

        // Add asset packs if you need
        include 'assets:font-basic'
        include 'assets:frame-basic'
        include 'assets:filter-basic'
        include 'assets:overlay-basic'
        include 'assets:sticker-shapes'
        include 'assets:sticker-emoticons'
        include 'backend:sticker-smart'
    }
}

android {
    namespace "vn.edu.hcmus.stargallery"

    compileSdkVersion 34
    buildToolsVersion '34.0.0'

    defaultConfig {
        applicationId "vn.edu.hcmus.stargallery"
        minSdkVersion 26
        targetSdkVersion 34
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'

        resValue 'string', 'pesdk_version', "v$pesdk_version"
    }
    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }


    compileOptions {
        sourceCompatibility JavaVersion.VERSION_17
        targetCompatibility JavaVersion.VERSION_17
    }
    lint {
        abortOnError false
    }

    packagingOptions {
        exclude 'META-INF/INDEX.LIST'
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/io.netty.versions.properties'
    }
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
    implementation 'androidx.appcompat:appcompat:1.3.1'
    implementation ("com.google.android.material:material:1.11.0")
    implementation("androidx.appcompat:appcompat:1.6.1")
    implementation("androidx.constraintlayout:constraintlayout:2.1.4")
    implementation 'com.github.MikeOrtiz:TouchImageView:1.4.1'
    implementation "com.google.android.gms:play-services-auth:21.0.0"
    testImplementation("junit:junit:4.13.2")
    androidTestImplementation("androidx.test.ext:junit:1.1.5")
    androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")

    implementation("com.github.bumptech.glide:glide:4.14.2")
    implementation("androidx.exifinterface:exifinterface:1.3.7")
    implementation ("com.google.zxing:core:3.4.1")
    implementation ("com.journeyapps:zxing-android-embedded:4.2.0")
    implementation ("com.google.mlkit:face-detection:16.1.6")
    implementation("de.hdodenhof:circleimageview:3.1.0") // Circle ImageView

    implementation "androidx.credentials:credentials:1.3.0-alpha03"

    // optional - needed for credentials support from play services, for devices running
    // Android 13 and below.
    implementation "androidx.credentials:credentials-play-services-auth:1.3.0-alpha03"
    implementation 'com.squareup.retrofit2:retrofit:2.9.0'
    implementation 'com.squareup.retrofit2:converter-gson:2.9.0' // For JSON serialization/deserialization

    implementation 'com.google.photos.library:google-photos-library-client:1.7.3'
    implementation 'io.grpc:grpc-okhttp:+'
    implementation 'io.grpc:grpc-netty:+'
    implementation 'io.grpc:grpc-netty-shaded:+'

    // To recognize Latin script
    implementation 'com.google.mlkit:text-recognition:16.0.0'

//    implementation ("com.google.code.gson:gson:2.10")


}